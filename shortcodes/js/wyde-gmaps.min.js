!function(e){function o(e){var o=google.maps.MapTypeId.ROADMAP;switch(e){case"1":o=google.maps.MapTypeId.HYBRID;break;case"3":o=google.maps.MapTypeId.SATELLITE;break;case"4":o=google.maps.MapTypeId.TERRAIN;break;default:o=google.maps.MapTypeId.ROADMAP}return o}e(".wyde-gmaps").each(function(){function a(){e(".wyde_gmaps_field",n).val(encodeURIComponent(JSON.stringify(s)))}var t,n=this,p=e.parseJSON(decodeURIComponent(e(".wyde_gmaps_field",n).val())),s=e.extend(!0,{position:{lat:37.6,lng:-95.665},address:"",zoom:8,type:2},p);s&&(t=new google.maps.LatLng(s.position.lat,s.position.lng),e(".map-address",n).val(s.address),e(".map-type",n).val(s.type),e(".map-zoom",n).val(s.zoom));var g=o(s.type),i=e(".gmaps-canvas",n).get(0),m={zoom:s.zoom,center:t,mapTypeId:g},l=new google.maps.Map(i,m),d=new google.maps.Marker({position:t,title:"Drag & Drop marker",map:l,animation:google.maps.Animation.DROP,draggable:!0});google.maps.event.addListener(d,"dragend",function(){t=d.getPosition(),s.position={lat:t.lat(),lng:t.lng()},a()}),e(".map-address",n).change(function(){var o=e(this).val();if(s.address=o,a(),o){var n=new google.maps.Geocoder;n.geocode({address:o},function(e,o){o===google.maps.GeocoderStatus.OK&&e.length>0&&e[0].geometry&&(t=e[0].geometry.location,s.position={lat:t.lat(),lng:t.lng()},l.setCenter(t),d.setPosition(t),a())})}}),e(".map-type",n).change(function(){s.type=e(this).val();var t=o(s.type);l.setMapTypeId(t),a()}),e(".map-zoom",n).change(function(){s.zoom=parseInt(e(this).val()),l.setZoom(s.zoom),l.setCenter(t),a()})})}(jQuery);